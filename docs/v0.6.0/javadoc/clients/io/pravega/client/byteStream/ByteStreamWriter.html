<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_171) on Mon Nov 04 02:48:57 PST 2019 -->
<title>ByteStreamWriter (Pravega API)</title>
<meta name="date" content="2019-11-04">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ByteStreamWriter (Pravega API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/pravega/client/byteStream/ByteStreamReader.html" title="class in io.pravega.client.byteStream"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/pravega/client/byteStream/ByteStreamWriter.html" target="_top">Frames</a></li>
<li><a href="ByteStreamWriter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.pravega.client.byteStream</div>
<h2 title="Class ByteStreamWriter" class="title">Class ByteStreamWriter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.io.OutputStream</li>
<li>
<ul class="inheritance">
<li>io.pravega.client.byteStream.ByteStreamWriter</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Closeable, java.io.Flushable, java.lang.AutoCloseable</dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">ByteStreamWriter</span>
extends java.io.OutputStream</pre>
<div class="block">Allows for writing raw bytes directly to a segment. This is intended as low level building block
 for creating higher level components. As such it can break things.
 
 This class does not frame, attach headers, or otherwise modify the bytes written to it in any
 way. So unlike <a href="../../../../io/pravega/client/stream/EventStreamWriter.html" title="interface in io.pravega.client.stream"><code>EventStreamWriter</code></a> or <a href="../../../../io/pravega/client/state/RevisionedStreamClient.html" title="interface in io.pravega.client.state"><code>RevisionedStreamClient</code></a> the data written
 cannot be split apart when read. As such, any bytes written by this API can ONLY be read using
 <a href="../../../../io/pravega/client/byteStream/ByteStreamReader.html" title="class in io.pravega.client.byteStream"><code>ByteStreamReader</code></a>. Similarly, unless some sort of framing is added it is probably an error
 to have multiple ByteStreamWriters write to the same segment as this will result in interleaved
 data.
 
 The methods on this class are non-blocking unless otherwise specified. As such data passed to a
 <code>OutputStream.write(byte[])</code> call cannot be assumed to be persisted until a flush has been called.
 
 It is safe to invoke methods on this class from multiple threads but doing so will not result in
 an increase in performance.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../io/pravega/client/byteStream/ByteStreamWriter.html#ByteStreamWriter--">ByteStreamWriter</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/pravega/client/byteStream/ByteStreamWriter.html#close--">close</a></span>()</code>
<div class="block">Flushes the buffer and closes the writer.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/pravega/client/byteStream/ByteStreamWriter.html#closeAndSeal--">closeAndSeal</a></span>()</code>
<div class="block">Closes the writer similar to <a href="../../../../io/pravega/client/byteStream/ByteStreamWriter.html#close--"><code>close()</code></a> but also seals it so that no future writes can
 ever be made.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>abstract long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/pravega/client/byteStream/ByteStreamWriter.html#fetchTailOffset--">fetchTailOffset</a></span>()</code>
<div class="block">This makes a synchronous RPC call to the server to obtain the total number of bytes written
 to the segment in its history.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/pravega/client/byteStream/ByteStreamWriter.html#flush--">flush</a></span>()</code>
<div class="block">Blocks until all data written has been durably persisted.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/pravega/client/byteStream/ByteStreamWriter.html#write-byte:A-int-int-">write</a></span>(byte[]&nbsp;b,
     int&nbsp;off,
     int&nbsp;len)</code>
<div class="block">Writes the provided data to the segment.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/pravega/client/byteStream/ByteStreamWriter.html#write-java.nio.ByteBuffer-">write</a></span>(java.nio.ByteBuffer&nbsp;src)</code>
<div class="block">Similar to <a href="../../../../io/pravega/client/byteStream/ByteStreamWriter.html#write-byte:A-int-int-"><code>write(byte[], int, int)</code></a>
 
 Writes the provided data to the segment.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.io.OutputStream">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.io.OutputStream</h3>
<code>write, write</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ByteStreamWriter--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ByteStreamWriter</h4>
<pre>public&nbsp;ByteStreamWriter()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="write-java.nio.ByteBuffer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public abstract&nbsp;void&nbsp;write(java.nio.ByteBuffer&nbsp;src)
                    throws java.io.IOException</pre>
<div class="block">Similar to <a href="../../../../io/pravega/client/byteStream/ByteStreamWriter.html#write-byte:A-int-int-"><code>write(byte[], int, int)</code></a>
 
 Writes the provided data to the segment. The data is buffered internally to avoid blocking.
 As such it cannot be assumed to be durably stored until a flush completes.
 
 It is intended that this method not block, but it may in the event that the server becomes
 disconnected for sufficiently long or is sufficiently slow that that backlog of data to be
 written becomes a memory issue.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>src</code> - The bytes to write.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If for any reason an error occurs writing the data, including if the
             stream is sealed.</dd>
</dl>
</li>
</ul>
<a name="write-byte:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public abstract&nbsp;void&nbsp;write(byte[]&nbsp;b,
                           int&nbsp;off,
                           int&nbsp;len)
                    throws java.io.IOException</pre>
<div class="block">Writes the provided data to the segment. The data is buffered internally to avoid blocking.
 As such it cannot be assumed to be durably stored until a flush completes.
 
 It is intended that this method not block, but it may in the event that the server becomes
 disconnected for sufficiently long or is sufficiently slow that that backlog of data to be
 written becomes a memory issue.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>write</code>&nbsp;in class&nbsp;<code>java.io.OutputStream</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>OutputStream.write(byte[], int, int)</code></dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public abstract&nbsp;void&nbsp;close()
                    throws java.io.IOException</pre>
<div class="block">Flushes the buffer and closes the writer. If there is data to flush, this is a blocking
 method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.io.Closeable</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>close</code>&nbsp;in class&nbsp;<code>java.io.OutputStream</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>OutputStream.close()</code></dd>
</dl>
</li>
</ul>
<a name="flush--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>public abstract&nbsp;void&nbsp;flush()
                    throws java.io.IOException</pre>
<div class="block">Blocks until all data written has been durably persisted.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>flush</code>&nbsp;in interface&nbsp;<code>java.io.Flushable</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>flush</code>&nbsp;in class&nbsp;<code>java.io.OutputStream</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If for any reason the flush fails including if the stream is sealed.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>OutputStream.flush()</code></dd>
</dl>
</li>
</ul>
<a name="closeAndSeal--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeAndSeal</h4>
<pre>public abstract&nbsp;void&nbsp;closeAndSeal()
                           throws java.io.IOException</pre>
<div class="block">Closes the writer similar to <a href="../../../../io/pravega/client/byteStream/ByteStreamWriter.html#close--"><code>close()</code></a> but also seals it so that no future writes can
 ever be made.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If for any reason the flush fails including if the stream is sealed.</dd>
</dl>
</li>
</ul>
<a name="fetchTailOffset--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>fetchTailOffset</h4>
<pre>public abstract&nbsp;long&nbsp;fetchTailOffset()</pre>
<div class="block">This makes a synchronous RPC call to the server to obtain the total number of bytes written
 to the segment in its history. This is the sum total of the bytes written in all calls to
 <code>OutputStream.write(byte[])</code> that have been flushed. It does not include data that was passed to
 <code>OutputStream.write(byte[])</code> but which has not yet been persisted.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The tail offset</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/pravega/client/byteStream/ByteStreamReader.html" title="class in io.pravega.client.byteStream"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/pravega/client/byteStream/ByteStreamWriter.html" target="_top">Frames</a></li>
<li><a href="ByteStreamWriter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
